{"ts":1341408329102,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"const FPS=30;\nconst SECONDS_BETWEEN_FRAMES=1/FPS;\nconst HALF_IMAGE_DIMENSION=17;\nconst HALF_CANVAS_WIDTH=300;\nconst HALF_CANVAS_HEIGHT=200;\nvar image=new Image();\nimage.src='b.jpg';\nvar canvas=null;\nvar context2D=null;\nvar currentFunction=null;\nvar currentTime=0;\nvar sineWave=0;\n\nwindow.onload=init;\n\nfunction init() {\n canvas=document.getElementById('canvas');\n context2D=canvas.getContext('2d');\n \n setInterval(draw, SECONDS_BETWEEN_FRAMES*1000);\n currentFunction=scale;\n}\n\nfunction draw() {\n currentTime+=SECONDS_BETWEEN_FRAMES;\n sineWave=(Math.sin(currentTime)+1)/2;\n \n context2D.clearRect(0,0,canvas.width,canvas.height);\n context2D.save();\n context2D.translate(HALF_CANVAS_WIDTH-HALF_IMAGE_DIMENSION, HALF_CANVAS_HEIGHT-HALF_IMAGE_DIMENSION);\n \n currentFunction();\n context2D.drawImage(image,0,0);\n context2D.restore();\n}\n\nfunction alpha() {\n context2D.globalAlpha=sineWave;   \n}\n\nfunction shear() {\n context2D.transform(1,0,(sineWave-0.5),1,0,0);   \n}\n\nfunction scale() {\n context2D.translate(HALF_IMAGE_DIMENSION * (1-sineWave), HALF_IMAGE_DIMENSION * (1-sineWave));\n context2D.scale(sineWave,sineWave);\n}\n\nfunction rotate() {\n context2D.translate(HALF_IMAGE_DIMENSION, HALF_IMAGE_DIMENSION);\n context2D.rotate(sineWave*Math.PI*2);\n context2D.translate(-HALF_IMAGE_DIMENSION, -HALF_IMAGE_DIMENSION);\n}"]],"start1":0,"start2":0,"length1":0,"length2":1310}]],"length":1310}
