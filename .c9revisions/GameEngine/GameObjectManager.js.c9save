{"ts":1350635702602,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function GameObjectManager() {\n this.gameObjects=[];\n this.lastFrame=new Date().getTime();\n this.xScroll=0;\n this.yScroll=0;\n this.applicationManager=null;\n this.canvas=null;\n this.context2D=null;\n this.backBuffer=null;\n this.backBufferContext2D=null;\n \n this.startupGameObjectManager=function() {\n  g_GameObjectManager=this;\n  \n  this.canvas=document.getElementById('canvas');\n  this.context2D=this.canvas.getContext('2d');\n  this.backBuffer=document.createElement('canvas');\n  this.backBuffer.width=this.canvas.width;\n  this.backBuffer.height=this.canvas.height;\n  this.backBufferContext2D=this.backBuffer.getContext('2d');\n  \n  this.applicationManager=new ApplicationManager().startupApplicationManager();\n  \n  setInterval(function(){g_GameObjectManager.draw();}, SECONDS_BETWEEN_FRAMES);\n  \n  return this;\n };\n \n this.draw=function() {\n     var thisFrame=new Date().getTime();\n     var dt=(thisFrame-this.lastFrame)/1000;\n     this.lastFrame=thisFrame;\n     \n     this.backBufferContext2D.clearRect(0,0,this.backBuffer.width, this.backBuffer.height);\n     this.context2D.clearRect(0,0,this.canvas.width,this.canvas.height);\n     \n     for(var x in this.gameObjects) {\n      if(this.gameObjects[x].update) {\n       this.gameObjects[x].update(dt, this.backBufferContext2D, this.xScroll, this.yScroll);   \n      }\n     }\n     \n     for(x in this.gameObjects) {\n      if(this.gameObjects[x].draw) {\n       this.gameObjects[x].draw(dt, this.backBufferContext2D, this.xScroll, this.yScroll);   \n      }\n     }\n     \n     this.context2D.drawImage(this.backBuffer,0,0);\n };\n \n this.addGameObject=function(gameObject) {\n     this.gameObjects.push(gameObject);\n     this.gameObjects.sort(function(a,b){return a.zOrder-b.zOrder;});\n };\n \n this.removeGameObject=function(gameObject) {\n  this.gameObjects.removeObject(gameObject);   \n };\n}"]],"start1":0,"start2":0,"length1":0,"length2":1830}]],"length":1830}
